# タスク管理アプリケーション「Goal Focus」機能要件定義書

## 1. システム概要

### 1.1 目的
プロジェクトごとのタスク管理、進捗可視化、売上目標管理を統合的に行うWebアプリケーション。

### 1.2 主要機能
- プロジェクト管理機能
- タスク管理機能（ガントチャート連動）
- フォーカスモード機能
- 月別売上目標管理
- アーカイブ機能

### 1.3 技術仕様
- レスポンシブデザイン対応（PC/モバイル）
- Notion形式でのタスクコピー機能

## 2. 画面構成

### 2.1 ログイン画面
- 紫グラデーション背景（#667eea → #764ba2）
- メールアドレス/パスワード入力フォーム
- ログインボタン

### 2.2 メインナビゲーション
- ヘッダー固定表示（スクロール時も常に表示）
- ナビゲーションボタン：
  - ダッシュボード
  - プロジェクト設定
  - アーカイブ
  - ログアウト

## 3. ダッシュボード機能

### 3.1 プロジェクトタブ
#### 3.1.1 タブ構成
- **直近1週間タブ**（赤背景、デフォルト表示）
  - 最左端に配置
  - 📅アイコン付き
  - 終了期限が1週間以内のタスクを自動抽出
- **すべてタブ**
  - 全プロジェクトのタスクを表示
- **プロジェクト個別タブ**
  - プロジェクトA、プロジェクトB等
  - 選択時はそのプロジェクトのタスクのみ表示
- **フォーカスモードトグル**（右端配置）
  - ON/OFFスイッチ

#### 3.1.2 プロジェクトKPI表示
- プロジェクト個別タブ選択時のみ表示
- 直近3ヶ月の月別売上目標を表示
- タブ直下の帯状エリアに配置

### 3.2 フォーカスモード機能

#### 3.2.1 設定フォーム（トグルON時表示）
- フォーカス期限：日付入力
- 達成ゴール：テキストエリア入力
- 保存ボタンで確定

#### 3.2.2 フォーカス表示（設定後）
- 紫グラデーション背景にパルスアニメーション
- 表示内容：
  - 🎯アイコン + フォーカス期限（例：2024年5月15日）
  - ゴール内容
  - 編集ボタン
- 高さ：PC版で120px以内

#### 3.2.3 フォーカス統計
- **表示位置**：ガントチャートの「ガントチャート」タイトル横（同じ高さ）
- **表示項目**：
  - 📋 タスク数：「8/12」形式（完了数/総数）
  - 📈 進捗率：パーセンテージ表示（緑背景）
- **動的更新**：プロジェクト切り替え時に自動再計算

## 4. ガントチャート機能

### 4.1 表示構成
- **左カラム**：タスク名（200px固定幅）
- **右カラム**：タイムライン表示

### 4.2 タイムライン仕様
#### 4.2.1 時間軸
- **1日 = 30px**の固定幅
- 月ヘッダー表示（例：2024年4月、2024年5月）
- 日付表示（数字のみ、土日は背景色で区別）

#### 4.2.2 グリッド表示
- 日付ごとの縦線（1px #f0f0f0）
- 土日：背景色 #f8f8f8
- 今日の位置：赤い縦線（2px）+ 「今日」ラベル

#### 4.2.3 タスクバー
- プロジェクトごとの色分け：
  - プロジェクトA：#667eea（紫）
  - プロジェクトB：#ed8936（オレンジ）
- 完了タスク：#48bb78（緑）、透明度0.8
- ホバー時：上方向に2px移動 + 影の強調
- バー内にタスク期間表示（例：4/25-4/30）

### 4.3 正確な日付配置
- タスクバーの開始位置 = (開始日 - 表示開始日) × 30px
- タスクバーの幅 = 期間日数 × 30px
- 実際のカレンダーに基づいた正確な配置

## 5. タスクリスト機能

### 5.1 タスク表示
- **カード形式**（高さ55px）
- **表示項目**：
  - チェックボックス
  - タスク名（太字）
  - プロジェクト名（青背景タグ）
  - 期限（📅 開始日〜終了日）
  - 担当者（👤アイコン付き）
  - コピーボタン

### 5.2 タスク追加機能
- 「+ タスク追加」ボタンクリックで新規カード挿入
- リスト最上部に空のカードが出現
- インライン編集形式

### 5.3 タスク編集機能（NotionライクUX）
#### 5.3.1 編集開始
- 既存タスクをダブルクリック
- 編集モード時は青い枠で強調（box-shadow使用）

#### 5.3.2 編集フィールド
- タスク名：テキスト入力
- プロジェクト：ドロップダウン選択
- 開始日・終了日：日付入力
- 担当者：ドロップダウン選択

#### 5.3.3 保存方法
- **カード外クリックで自動保存**（保存ボタン不要）
- ESCキーで編集キャンセル
- 必須項目未入力時はアラート表示

### 5.4 複数選択機能
#### 5.4.1 複数選択モード
- 「複数選択」ボタンをクリックしてモード開始
- モード中のみタスクカードクリックで選択可能
- 選択中のタスクは背景色変更（#f0f4ff）

#### 5.4.2 一括コピー
- 「選択をコピー」ボタン表示（緑色）
- Notion形式で複数タスクを一括コピー
- コピー後は選択状態を自動解除

### 5.5 タスクコピー機能
- **Notion形式**：`- [ ] タスク名 【終了日】`
- 個別コピー：各タスクのコピーボタン
- 複数選択コピー：選択したタスクを改行区切りで一括コピー

### 5.6 完了タスク管理
#### 5.6.1 Doneセクション
- デフォルトで折りたたみ状態
- ヘッダークリックで開閉（矢印アニメーション付き）
- 完了タスクは薄い表示 + 取り消し線

#### 5.6.2 タスク移動
- チェックボックスON：Doneセクションへ自動移動
- チェックボックスOFF：タスクリストへ戻る
- ガントチャート上でも完了状態を色で表現

### 5.7 直近1週間タスク
- 終了期限までの残日数を表示
- 期限の近さで色分け：
  - 2日以内：赤（#e53e3e）
  - 3-4日：オレンジ（#ed8936）
  - 5日以上：通常色

## 6. プロジェクト管理機能

### 6.1 プロジェクト一覧
- カード形式で表示
- カードクリックで編集ページへ遷移
- ホバー時に枠線色変更 + 影追加

### 6.2 プロジェクト編集ページ
#### 6.2.1 基本情報
- プロジェクト名
- プロジェクト概要（テキストエリア）
- ステータス（継続中/停止）

#### 6.2.2 月別売上目標設定
- **期間指定**：
  - 開始年月（type="month"）
  - 終了年月（type="month"）
- **月別入力**：
  - 指定期間の各月が自動生成
  - 各月個別に売上目標額を入力
  - グレー背景のコンテナ内に配置

#### 6.2.3 メンバー管理
- メンバー名入力 + 追加ボタン
- 追加済みメンバーはタグ表示
- ×ボタンで個別削除可能

### 6.3 プロジェクト新規作成
- 「+ プロジェクト追加」ボタンから作成
- 編集ページと同じフォームを使用

## 7. アーカイブ機能

### 7.1 自動アーカイブ
- 完了から1ヶ月経過したタスクを自動移動

### 7.2 アーカイブ表示
- プロジェクト別フィルター（ドロップダウン）
- アーカイブ日付表示（黒背景白文字タグ）
- 総件数表示

## 8. レスポンシブ対応

### 8.1 モバイル表示（768px以下）
- ナビゲーションボタンの折り返し
- フォーカス統計の縦並び
- ガントチャート最小幅800px（横スクロール）
- タスクメタ情報の折り返し表示

### 8.2 タブレット表示
- 2カラムレイアウトの維持
- タッチ操作対応

## 9. アニメーション・インタラクション

### 9.1 トランジション
- ホバー効果：0.2〜0.3秒
- タブ切り替え：即座
- フォーカスモード背景：パルスアニメーション（4秒周期）

### 9.2 視覚フィードバック
- ボタンホバー：背景色変更
- タスク選択：背景色 + 枠線変更
- 編集モード：青い影効果
- コピー完了：「コピー済み」表示（1.5秒後に復帰）